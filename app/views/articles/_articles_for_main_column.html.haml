- count = ColumnSectionType.find_by_partial_name("articles_for_main_column").default_count if section.count.blank?
- ops = "person_id = #{@page.author_id}" if @page.author_id
- articles = @page.article_category_id.nil? ? Article.published.find(:all, :conditions => ops, :limit => count) : @page.article_category.articles.published.find(:all, :conditions => ops, :limit => count)
- @recent_articles = articles

- unless @recent_articles.empty?
  .articles-for-main-column
    - unless section.title.blank?
      %h2= section.title
    %ul.recent_articles.list_of_links
      - for article in @recent_articles
        %li
          %h3= link_to article.title, article_path(article)
          %span.date
            = "by #{article.person.name} - " if section.show_author
            = article.published_at.strftime("%a, %b %d, %Y")
          - if section.show_blurb
            %p= article.description.blank? ? truncate(h(article.blurb), :length => 100) : truncate(h(article.description), :length => 100)
          = clear
